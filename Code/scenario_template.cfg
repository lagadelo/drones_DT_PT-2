# Scenario template for Code/baseline_simulator
#
# Format: key=value
# - Blank lines are allowed
# - Full-line comments are allowed
# - Inline comments are allowed using '#', e.g.: V=1.0  # nominal speed
#
# Tip: start from this template, then copy/rename the file.

# --- Fleet size / spare pool ---
# Legacy shortcut (still supported): sets BOTH n_initial and n_total
n=20
# Preferred (newer) explicit form:
#n_initial=20               # drones initially active
#n_total=20                 # total slots including standby spares (>= n_initial)

# --- Geometry / time ---
perimeter=100.0             # meters (1D ring)
steps=3000                  # number of discrete simulation steps
dt=0.1                      # seconds per step

# --- Nominal motion ---
V=1.0                       # nominal cruise speed (m/s)
Vmax=2.0                    # absolute hard speed limit (m/s)

# --- Spacing targets ---
d_star=5.0                  # desired gap (m)
d_safe=1.0                  # repulsion activates if back gap < d_safe

# --- Controller (baseline symmetric law) ---
# Local speed law (simplified): v = V + k_sym*(d_f - d_b) + repulsion(d_b)
# - Increase k_sym => more aggressive speed response to gap imbalance
# - Increase k_rep => stronger safety repulsion when too close
k_sym=0.5                   # symmetric gain (preferred)
#w_back=0.5                 # legacy alias for k_sym
k_rep=0.2                   # repulsion gain
k_sym_rec=0.5               # optional: symmetric gain during recovery (0 => use k_sym)

# Recovery cap / detection
V_cap=1.5                   # cap during recovery mode (m/s)
epsilon=0.1                 # threshold to detect near-uniform spacing / recovery state

# --- Backward-compat / legacy knobs (kept for old configs) ---
# You can typically ignore these for the symmetric controller plots.
# If you keep them, they will be parsed but may not affect the current law.
k_f=0.5
k_b=0.3
k_f_rec=0.8
k_b_rec=0.0
alpha=1.2
beta=0.8

# --- Loss schedule generation (ONLY used if loss CSV is absent) ---
num_losses=15
seed=123

# --- Resilience / spares ---
resilience=1                # 1 => enable spare insertion, 0 => no spare insertion
min_spare_delay_steps=15    # min delay after a loss before inserting a spare
min_spare_interval_steps=0  # legacy: fixed min delay between two spare insertions
spare_interval_min_steps=200  # preferred: random delay range between spare insertions (min)
spare_interval_max_steps=500  # preferred: random delay range between spare insertions (max)
incoming_hold_steps=50      # steps a new spare holds regulated speed before joining controller
incoming_v=1.0              # regulated speed during incoming_hold_steps (default: V)

# --- Antifragility knobs (optional) ---
extra_spares=0              # insert extra spares beyond observed losses (only after first loss)
max_spares=0                # hard cap on total spares inserted (0 => defaults to num_losses)
