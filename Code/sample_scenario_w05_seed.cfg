# Baseline scenario (seeded losses) with spares enabled.
# Inline comments are supported: everything after '#' is ignored.

# --- Fleet size / spare pool ---
n=20                        # legacy alias: sets both n_initial and n_total unless those are explicitly provided
# Use a standby pool so spares don't reuse original indices (cleaner loss vs reinforcement markers)
n_total=40
#n_initial=20                # optionally: drones initially active
#n_total=20                  # optionally: total slots incl. standby spares (>= n_initial)

# --- Geometry / time ---
perimeter=100.0              # meters (1D ring)
steps=3000                   # number of discrete simulation steps
dt=0.1                       # seconds per step

# --- Nominal motion ---
V=1.0                        # nominal speed (m/s)
Vmax=2.0                     # hard speed limit (m/s)

# --- Spacing targets ---
d_star=5.0                   # desired gap (m)
d_safe=1.0                   # repulsion activates if back gap < d_safe

# --- Control gains ---
w_back=0.5                   # legacy alias for k_sym (symmetric gain on (d_f - d_b))
#k_sym=0.5                   # preferred name (equivalent to w_back)
k_rep=0.2                    # repulsion gain when too close
k_sym_rec=0.5                # optional: symmetric gain during recovery (0 => use k_sym)

# The following are kept for backward-compat (not used by the symmetric law by default)
k_f=0.5
k_b=0.3
k_f_rec=0.8
k_b_rec=0.0
alpha=1.2
beta=0.8

V_cap=1.5                    # cap during recovery mode (m/s)
epsilon=0.1                  # threshold to detect near-uniform spacing / recovery state

# --- Loss schedule generation (only used if the loss CSV you pass is missing) ---
num_losses=15
seed=123

# --- Resilience / spares ---
resilience=1                 # 1 => enable spare insertion, 0 => never insert spares
min_spare_delay_steps=15     # minimum delay after a loss before inserting a spare
min_spare_interval_steps=0   # legacy: fixed minimum delay between two spare insertions
spare_interval_min_steps=200 # preferred: randomized delay range between spare insertions (min)
spare_interval_max_steps=500 # preferred: randomized delay range between spare insertions (max)
incoming_hold_steps=50       # steps a new spare holds a regulated speed before joining controller
incoming_v=1.0               # regulated speed during incoming_hold_steps (default: V)

# --- Antifragility knobs (optional) ---
extra_spares=0               # allow inserting more than observed losses (only after first loss)
max_spares=0                 # hard cap on total spares inserted (0 => defaults to num_losses)
